import com.google.common.collect.Sets;

/**
 * Created by 
 * @author luke on 23/05/2017.
 */
public class App {

  private static String puzzleString1 = "?,7,?,3,?,2,?,?,?,8,?,?,?,?,?,1,?,4,6,?,?,?,1,?,?,?,?,?,"
      + "?,8,?,3,?,?,1,?,?,1,?,9,?,6,?,5,?,?,4,?,?,7,?,3,?,?,?,?,?,?,2,?,?,?,3,9,?,2,?,?,?,?,?,7,"
      + "?,?,?,6,?,7,?,8,?";
  private static String puzzleString2 =
      "8,?,?,?,?,?,?,?,?,?,?,3,6,?,?,?,?,?,?,7,?,?,9,?,2,?,?,?,5,?,?,?,7,?,?,?,?,?,?,?,4,5,7,?,?,"
          + "?,?,?,1,?,?,?,3,?,?,?,1,?,?,?,?,6,8,?,?,8,5,?,?,?,1,?,?,9,?,?,?,?,4,?,?";
  private static String puzzleString3 =
      "6,4,?,?,2,?,3,?,?,3,5,?,?,8,1,?,2,?,?,1,2,?,3,6,?,?,?,?,3,?,6,?,?,?,?,2,1,?,?,?,7,?,?,?,8,"
          + "5,?,?,?,?,2,?,6,?,?,?,?,7,5,?,8,3,?,?,8,?,1,6,?,?,4,7,?,?,3,?,9,?,?,5,1";
  private static String puzzleString4 = "8,?,?,?,?,?,?,?,?,?,?,3,6,?,?,?,?,?,?,7,?,?,9,?,2,?,?,?,"
      + "5,?,?,?,7,?,?,?,?,?,?,?,4,5,7,?,?,?,?,?,1,?,?,?,3,?,?,?,1,?,?,?,?,6,8,?,?,8,5,?,?,?,1,?,"
      + "?,9,?,?,?,?,4,?,?";

  public static void main(String[] args) throws InterruptedException {

//    SquareStrategySpeedFactor iterativeSquareStrategy =
    //        new SquareStrategySpeedFactor(Sets.newHashSet(new Elimination(), new BlockOut()));

    SquareStrategySpeedFactor squareStrategySpeedFactor =
        new SquareStrategySpeedFactor(Sets.newHashSet(new BlockOut(), new Elimination()));

//    Puzzle puzzle = PuzzleBuilder.Build(puzzleString4, null,
//        Sets.newHashSet(new BruteForce(Sets.newHashSet(squareStrategySpeedFactor))));

    Puzzle puzzle =
        PuzzleBuilder.Build(puzzleString4, null, Sets.newHashSet(new BruteForce()));

    try {
      puzzle.solveByPuzzle();
    }catch (Exception e){
      System.err.print("ERROR: \n");
      System.out.print(puzzle.toString());
    }

  }

}
